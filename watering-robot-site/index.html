<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Plant Watering Robot • Control Panel</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header class="topbar">
    <div class="brand">
      <svg class="logo" viewBox="0 0 24 24" aria-hidden="true">
        <path fill="currentColor" d="M12 2C8 8 7 10 7 13a5 5 0 0010 0c0-3-1-5-5-11z"></path>
      </svg>
      <h1>Watering Robot</h1>
    </div>
    <nav>
      <a href="#home" id="nav-home" class="active">Home</a>
      <a href="#control" id="nav-control">Control</a>
    </nav>
  </header>

  <main id="app">
    <section id="home" class="view">
      <div class="hero">
        <h2>Plant care made simple</h2>
        <p>Monitor sensors, run manual watering, or set an automatic schedule for your plants.</p>
        <div class="controls-row">
          <button id="connectBtn" class="btn outline">Connect</button>
          <a href="#control" class="btn primary">Go to Control</a>
        </div>
      </div>

      <div class="cards">
        <div class="card">
          <h3>Soil Moisture</h3>
          <div class="state" id="soilValue">-- %</div>
        </div>
        <div class="card">
          <h3>Water Tank</h3>
          <div class="state" id="tankValue">-- %</div>
        </div>
        <div class="card">
          <h3>Last Watered</h3>
          <div class="state" id="lastWatered">—</div>
        </div>
        <div class="card">
          <h3>Next Schedule</h3>
          <div class="state" id="nextSchedule">—</div>
        </div>
      </div>

      <div class="log-panel">
        <h3>Activity</h3>
        <ul id="activityLog"></ul>
      </div>
    </section>

    <section id="control" class="view hidden">
      <div class="control-grid">
        <div class="card">
          <h3>Manual Watering</h3>
          <label for="duration">Duration (sec)</label>
          <input type="range" id="duration" min="1" max="60" value="10">
          <output id="durationVal">10</output> sec
          <div class="controls-row">
            <button id="waterNowBtn" class="btn primary">Water Now</button>
            <button id="stopWaterBtn" class="btn danger">Stop</button>
          </div>
        </div>

        <div class="card">
          <h3>Flow Rate</h3>
          <input type="range" id="flowRate" min="10" max="100" value="60">
          <div class="flow-value">Flow <span id="flowVal">60</span>%</div>
        </div>

        <div class="card schedule-card">
          <h3>Scheduling</h3>
          <form id="scheduleForm">
            <label for="timeInput">Time (HH:MM)</label>
            <input type="time" id="timeInput" required>
            <label for="durationInput">Duration (sec)</label>
            <input type="number" id="durationInput" min="1" max="600" value="10" required>
            <label><input type="checkbox" id="repeatDaily" checked> Repeat daily</label>
            <div class="controls-row">
              <button type="submit" class="btn primary">Add Schedule</button>
            </div>
          </form>

          <ul id="scheduleList" class="schedule-list"></ul>
        </div>

        <div class="card">
          <h3>Advanced</h3>
          <label>Simulate Soil Drying:</label>
          <input type="range" id="dryRate" min="0" max="5" value="1">
          <p style="font-size: .9rem; color: #666;">(higher = faster drying)</p>
          <button id="resetBtn" class="btn outline">Reset Mock State</button>
        </div>
      </div>
    </section>
  </main>

  <footer class="footer">
    <small>Watering Robot Control • Local Demo · No backend required</small>
  </footer>

  <script src="app.js" defer></script>
</body>
</html>